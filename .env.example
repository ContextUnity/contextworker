# ContextWorker Environment Variables
# Copy this file to .env and configure with your values

# ===== Service Identity =====
SERVICE_NAME=contextworker
SERVICE_VERSION=0.1.0
LOG_LEVEL=INFO

# ===== PROJECT CONFIGURATION =====
# Absolute path to projects directory (contains project configs)
PROJECTS_DIR=/home/user/projects

# Default project if --project not specified (required)
DEFAULT_PROJECT=traverse

# Project-specific settings loaded from:
#   ${PROJECTS_DIR}/${DEFAULT_PROJECT}/.env
#   ${PROJECTS_DIR}/${DEFAULT_PROJECT}/config.toml

# ===== Brain gRPC (REQUIRED for all DB operations) =====
BRAIN_GRPC_URL=localhost:50051
BRAIN_GRPC_TIMEOUT_SEC=30

# ===== Redis (for queue and batch tracking) =====
REDIS_URL=redis://localhost:6379/0

# ===== ContextRouter (LLM Gateway) =====
CONTEXT_ROUTER_URL=http://localhost:8080
CONTEXT_ROUTER_API_KEY=
CONTEXT_ROUTER_MODEL=google/gemini-2.5-flash-lite

# ===== Temporal (for Harvester workflows) =====
TEMPORAL_HOST=localhost:7233

# ===== Harvester Module =====
# (Loaded from project config, but can override here)
# TENANT_ID=traverse
# HARVESTER_PROMPTS_DIR=...
# HARVESTER_ONTOLOGY_DIR=...

# ===== Gardener (Commerce Enrichment) =====
GARDENER_POLL_INTERVAL_SEC=900  # 15 minutes
GARDENER_BATCH_SIZE=50
GARDENER_PARALLEL_BATCHES=2
GARDENER_LLM_TIMEOUT=30.0
GARDENER_RETRY_MAX=3
GARDENER_RETRY_BASE_DELAY=1.0

# ===== Batch Tracker (Redis) =====
BATCH_TRACKER_ENABLED=true
BATCH_TRACKER_TTL_SEC=3600

# ===== Agent: Lexicon =====
LEXICON_POLL_INTERVAL_SEC=300
PERPLEXITY_API_KEY=

# ===== OpenTelemetry (optional) =====
OTEL_ENABLED=false
OTEL_ENDPOINT=http://localhost:4317
